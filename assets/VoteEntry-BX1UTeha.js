import{r as v,j as e,S as _}from"./index-BS2PQLcf.js";import{M as b,P as g}from"./plus-B4VqnKL3.js";const f=()=>{const[s,r]=v.useState({}),l=(t,n,o)=>{r(d=>{var h;return{...d,[t]:{...d[t],[n]:o,player_id:t,minutes_played:((h=d[t])==null?void 0:h.minutes_played)??90}}})};return{performances:s,handleValueChange:l,increment:(t,n)=>{var d;const o=((d=s[t])==null?void 0:d[n])||0;l(t,n,o+1)},decrement:(t,n)=>{var d;const o=((d=s[t])==null?void 0:d[n])||0;o>0&&l(t,n,o-1)},calculatePreviewScore:t=>{let n=t.vote_base||0;return t.vote_base?(n+=(t.goals_scored||0)*3,n+=(t.assists||0)*1,n-=(t.yellow_cards||0)*.5,n-=(t.red_cards||0)*1,n+=(t.penalties_scored||0)*3,n-=(t.penalties_missed||0)*3,n+=(t.penalties_saved||0)*3,n-=(t.own_goals||0)*2,t.clean_sheet&&(n+=1),n):0},getPerformance:t=>s[t]||{player_id:t,vote_base:0,goals_scored:0,assists:0,yellow_cards:0,red_cards:0,penalties_scored:0,penalties_missed:0,penalties_saved:0,own_goals:0,clean_sheet:!1,minutes_played:90},setPerformances:r}};function j(s){var r,l,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var c=s.length;for(r=0;r<c;r++)s[r]&&(l=j(s[r]))&&(a&&(a+=" "),a+=l)}else for(l in s)s[l]&&(a&&(a+=" "),a+=l);return a}function x(){for(var s,r,l=0,a="",c=arguments.length;l<c;l++)(s=arguments[l])&&(r=j(s))&&(a&&(a+=" "),a+=r);return a}const u=({player:s,performance:r,onValueChange:l,onIncrement:a,onDecrement:c,totalScore:m})=>e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center bg-pl-dark/40 border-b border-gray-700 p-2 hover:bg-gray-800/50 transition-colors",children:[e.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[e.jsx("span",{className:x("text-xs font-bold px-1.5 py-0.5 rounded",{"bg-yellow-500/20 text-yellow-500":s.role==="GK","bg-blue-500/20 text-blue-500":s.role==="DEF","bg-green-500/20 text-green-500":s.role==="MID","bg-red-500/20 text-red-500":s.role==="ATT"}),children:s.role}),e.jsx("span",{className:"text-sm font-medium text-white truncate",title:s.name,children:s.name})]}),e.jsx("div",{className:"col-span-1",children:e.jsx("input",{type:"number",step:"0.5",min:"1",max:"10",className:"w-full bg-gray-900 border border-gray-600 rounded px-1 py-1 text-center text-white font-bold focus:border-pl-blue outline-none",placeholder:"-",value:r.vote_base||"",onChange:i=>l(s.id,"vote_base",parseFloat(i.target.value))})}),e.jsxs("div",{className:"col-span-6 flex items-center space-x-3 text-xs",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-gray-500 mb-1",children:"GOL"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{tabIndex:-1,onClick:()=>c(s.id,"goals_scored"),className:"hover:text-red-400",children:e.jsx(b,{size:14})}),e.jsx("span",{className:x("font-bold w-4 text-center",(r.goals_scored||0)>0?"text-pl-green":"text-gray-600"),children:r.goals_scored||0}),e.jsx("button",{tabIndex:-1,onClick:()=>a(s.id,"goals_scored"),className:"hover:text-green-400",children:e.jsx(g,{size:14})})]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-gray-500 mb-1",children:"AST"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{tabIndex:-1,onClick:()=>c(s.id,"assists"),className:"hover:text-red-400",children:e.jsx(b,{size:14})}),e.jsx("span",{className:x("font-bold w-4 text-center",(r.assists||0)>0?"text-pl-blue":"text-gray-600"),children:r.assists||0}),e.jsx("button",{tabIndex:-1,onClick:()=>a(s.id,"assists"),className:"hover:text-green-400",children:e.jsx(g,{size:14})})]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-gray-500 mb-1",children:"AM/ES"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>l(s.id,"yellow_cards",r.yellow_cards?0:1),className:x("w-5 h-6 rounded flex items-center justify-center border",r.yellow_cards?"bg-yellow-500 border-yellow-600 text-black":"bg-transparent border-gray-600"),children:"Y"}),e.jsx("button",{onClick:()=>l(s.id,"red_cards",r.red_cards?0:1),className:x("w-5 h-6 rounded flex items-center justify-center border",r.red_cards?"bg-red-500 border-red-600 text-white":"bg-transparent border-gray-600"),children:"R"})]})]}),(s.role==="GK"||s.role==="DEF")&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-gray-500 mb-1",children:"CS"}),e.jsx("input",{type:"checkbox",checked:r.clean_sheet||!1,onChange:i=>l(s.id,"clean_sheet",i.target.checked),className:"w-4 h-4 accent-pl-green"})]})]}),e.jsxs("div",{className:"col-span-2 text-right",children:[e.jsx("div",{className:"text-xxs text-gray-500 uppercase tracking-wider",children:"TOT"}),e.jsx("div",{className:x("text-xl font-black",m>=6?"text-pl-green":"text-gray-400"),children:m.toFixed(1)})]})]}),w=()=>{const{handleValueChange:s,increment:r,decrement:l,getPerformance:a,calculatePreviewScore:c}=f(),m=[{id:"1",name:"Salah",role:"ATT",real_team_id:"LIV"},{id:"2",name:"Van Dijk",role:"DEF",real_team_id:"LIV"}],i=[{id:"3",name:"Saka",role:"ATT",real_team_id:"ARS"},{id:"4",name:"Raya",role:"GK",real_team_id:"ARS"}];return e.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Match Data Entry"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Input votes and events manually."})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-pl-green text-pl-dark font-bold rounded-lg hover:bg-white transition-colors shadow-[0_0_15px_rgba(0,255,133,0.3)]",children:[e.jsx(_,{size:18}),e.jsx("span",{children:"Save Match Data"})]})]}),e.jsx("div",{className:"mb-6 p-4 bg-pl-card rounded-lg border border-gray-700",children:e.jsxs("select",{className:"bg-pl-dark text-white p-2 rounded border border-gray-600 w-full md:w-1/3",children:[e.jsx("option",{children:"Select a Fixture..."}),e.jsx("option",{children:"Liverpool vs Arsenal"})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-pl-pink font-bold uppercase tracking-widest text-sm mb-2 pl-2",children:"Liverpool (Home)"}),e.jsx("div",{className:"bg-pl-card rounded-lg border border-gray-700 overflow-hidden",children:m.map(t=>e.jsx(u,{player:t,performance:a(t.id),onValueChange:s,onIncrement:r,onDecrement:l,totalScore:c(a(t.id))},t.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-pl-blue font-bold uppercase tracking-widest text-sm mb-2 pl-2",children:"Arsenal (Away)"}),e.jsx("div",{className:"bg-pl-card rounded-lg border border-gray-700 overflow-hidden",children:i.map(t=>e.jsx(u,{player:t,performance:a(t.id),onValueChange:s,onIncrement:r,onDecrement:l,totalScore:c(a(t.id))},t.id))})]})]})]})};export{w as VoteEntry};
