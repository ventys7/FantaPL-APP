import{c as n,r as m,j as e,m as u,l as b}from"./index-4o8_0gd3.js";import{R as i}from"./refresh-cw-BEwSI2hN.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=n("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=n("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=n("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function S(){const[c,o]=m.useState(null),[d,p]=m.useState([]),h="69592373002208d6dd31",x=async(s,l)=>{o(s),r("info",`Executing ${s}...`);try{const t=await u.createExecution(h,JSON.stringify({action:s,season:l}),!1);if(t.status==="completed"){const a=JSON.parse(t.responseBody);a.success?(r("success",`${s} Completed: ${a.processed} processed, ${a.errors} errors.`),a.details&&a.details.length>0&&a.details.forEach(g=>r("error",`Detail: ${g}`))):r("error",`${s} Failed: ${a.error}`)}else r("error",`${s} Status: ${t.status}`)}catch(t){b.error("Function execution failed:",t),r("error",`Execution Error: ${t.message}`)}finally{o(null)}},r=(s,l)=>{p(t=>[{type:s,message:l},...t])};return e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsxs("h1",{className:"text-3xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx(i,{className:"text-pl-teal"}),"System Sync"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Sync Teams"}),e.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Fetch team data (names, crests) from API.",e.jsx("br",{}),e.jsx("span",{className:"text-yellow-400 text-xs",children:"Fixes missing teams (Aston Villa, etc)"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>x("SYNC_TEAMS",2025),disabled:!!c,className:"bg-pl-teal hover:bg-pl-teal/80 text-pl-dark font-bold py-2 px-4 rounded-lg flex items-center gap-2 transition disabled:opacity-50",children:[c==="SYNC_TEAMS"&&e.jsx(i,{className:"animate-spin w-4 h-4"}),"Sync 2025/26"]})})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Sync Fixtures"}),e.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Fetch matches and live scores.",e.jsx("br",{}),e.jsx("span",{className:"text-yellow-400 text-xs",children:"Updates minutes and status"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>x("SYNC_FIXTURES"),disabled:!!c,className:"bg-pl-purple hover:bg-pl-purple/80 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2 transition disabled:opacity-50",children:[c==="SYNC_FIXTURES"&&e.jsx(i,{className:"animate-spin w-4 h-4"}),"Sync Fixtures"]})})]})]}),e.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-4 h-64 overflow-y-auto font-mono text-sm",children:[e.jsx("h3",{className:"text-gray-400 text-xs uppercase tracking-wider mb-2 sticky top-0 bg-black/40 backdrop-blur pb-2",children:"Execution Logs"}),d.length===0&&e.jsx("p",{className:"text-gray-600 italic",children:"No logs yet."}),d.map((s,l)=>e.jsxs("div",{className:`flex items-start gap-2 mb-2 ${s.type==="success"?"text-green-400":s.type==="error"?"text-red-400":"text-blue-300"}`,children:[s.type==="success"?e.jsx(N,{size:14,className:"mt-0.5 shrink-0"}):s.type==="error"?e.jsx(j,{size:14,className:"mt-0.5 shrink-0"}):e.jsx(y,{size:14,className:"mt-0.5 shrink-0"}),e.jsx("span",{children:s.message})]},l))]})]})}export{S as AdminSystem};
