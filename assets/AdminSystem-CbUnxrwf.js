import{c as l,u as y,r as h,j as e,p as f,n,U as v,s as j,l as N}from"./index-BgNnxJZX.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=l("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=l("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=l("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=l("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=l("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=l("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function $(){const{hasRole:A}=y(),[i,c]=h.useState(null),[x,m]=h.useState([]),p="69592373002208d6dd31",g="695afdb40034ed9a82d7",u=async(t,s,d)=>{c(s),a("info",`Executing ${s}...`);try{const r=await j.createExecution(t,JSON.stringify({action:s,season:d}),!0);if(a("info",`Avviato: ${r.$id}. Status: ${r.status}`),r.status==="completed"){const o=r.responseBody?JSON.parse(r.responseBody):{};o.success?a("success",`${s} Completed: ${o.processed||o.teamsProcessed||0} items.`):a("error",`${s} Failed: ${o.error}`)}else a("success",`${s} Inserito in coda (background).`)}catch(r){N.error("Function execution failed:",r),a("error",`Errore: ${r.message}`)}finally{c(null)}},a=(t,s)=>{m(d=>[{type:t,message:s},...d])};return e.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col items-center text-center gap-2 mb-8",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-white flex items-center justify-center gap-3",children:[e.jsx(S,{className:"text-pl-teal w-8 h-8"}),"Sistema"]}),e.jsx("p",{className:"text-gray-400 text-sm mt-1 max-w-md mx-auto",children:"Gestione sincronizzazione dati e integrazioni."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"relative group overflow-hidden bg-gradient-to-b from-[#1e1e24] to-[#121214] border border-white/5 rounded-3xl p-6 hover:border-blue-500/30 transition-all duration-300 shadow-xl lg:hover:-translate-y-1",children:[e.jsx("div",{className:"absolute top-0 right-0 p-32 bg-blue-500/5 blur-3xl rounded-full -mr-16 -mt-16 pointer-events-none group-hover:bg-blue-500/10 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center mb-4 border border-blue-500/20 text-blue-400 group-hover:scale-110 transition-transform duration-300",children:e.jsx(f,{size:24})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-blue-200 transition-colors",children:"Squadre"}),e.jsx("p",{className:"text-sm text-gray-400 mb-6 h-12 leading-relaxed",children:"Sincronizza i dati ufficiali delle squadre Premier League (nomi, stemma, stadio)."}),e.jsxs("button",{onClick:()=>u(p,"SYNC_TEAMS",2025),disabled:!!i,className:"w-full py-3.5 px-4 rounded-xl font-bold text-sm bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white shadow-lg shadow-blue-900/20 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i==="SYNC_TEAMS"?e.jsx(n,{className:"animate-spin",size:18}):e.jsx(n,{size:18}),"Sync Dati 2025/26"]})]})]}),e.jsxs("div",{className:"relative group overflow-hidden bg-gradient-to-b from-[#1e1e24] to-[#121214] border border-white/5 rounded-3xl p-6 hover:border-pl-teal/30 transition-all duration-300 shadow-xl lg:hover:-translate-y-1",children:[e.jsx("div",{className:"absolute top-0 right-0 p-32 bg-pl-teal/5 blur-3xl rounded-full -mr-16 -mt-16 pointer-events-none group-hover:bg-pl-teal/10 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-pl-teal/10 flex items-center justify-center mb-4 border border-pl-teal/20 text-pl-teal group-hover:scale-110 transition-transform duration-300",children:e.jsx(v,{size:24})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-emerald-200 transition-colors",children:"Giocatori"}),e.jsx("p",{className:"text-sm text-gray-400 mb-6 h-12 leading-relaxed",children:"Sincronizza il database giocatori da FotMob mantenendo i dati del Fantacalcio."}),e.jsxs("button",{onClick:()=>u(g,"SYNC_PLAYERS"),disabled:!!i,className:"w-full py-3.5 px-4 rounded-xl font-bold text-sm bg-gradient-to-r from-pl-teal to-emerald-600 hover:from-emerald-500 hover:to-emerald-400 text-pl-dark shadow-lg shadow-emerald-900/20 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i==="SYNC_PLAYERS"?e.jsx(n,{className:"animate-spin",size:18}):e.jsx(z,{size:18}),"Sync Listone"]})]})]})]}),e.jsxs("div",{className:"relative rounded-2xl overflow-hidden bg-[#0d0d0f] border border-white/10 shadow-2xl",children:[e.jsxs("div",{className:"px-5 py-3 border-b border-white/5 bg-white/5 flex items-center justify-between backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-xs font-bold text-gray-300 uppercase tracking-widest",children:"System Output"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/20 border border-red-500/50"}),e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/20 border border-green-500/50"})]}),e.jsx("button",{onClick:()=>m([]),className:"text-[10px] font-medium text-gray-500 hover:text-white transition px-2 py-0.5 rounded bg-white/5 uppercase",children:"Clear"})]})]}),e.jsxs("div",{className:"p-4 h-72 overflow-y-auto font-mono text-xs md:text-sm space-y-1.5 custom-scrollbar bg-black/50",children:[x.length===0&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-700 select-none",children:[e.jsx(b,{size:40,className:"mb-3 opacity-20"}),e.jsx("p",{className:"bg-white/5 px-3 py-1 rounded text-xs ",children:"In attesa di comandi..."})]}),x.map((t,s)=>e.jsxs("div",{className:`flex items-start gap-3 p-2 rounded ${t.type==="success"?"text-emerald-400 bg-emerald-500/5 border-l-2 border-emerald-500/50":t.type==="error"?"text-red-400 bg-red-500/5 border-l-2 border-red-500/50":"text-blue-300 bg-blue-500/5 border-l-2 border-blue-500/50"} animate-in fade-in slide-in-from-left-2 duration-300`,children:[e.jsx("span",{className:"mt-0.5 opacity-70 shrink-0",children:t.type==="success"?e.jsx(k,{size:14}):t.type==="error"?e.jsx(C,{size:14}):e.jsx(w,{size:14})}),e.jsx("span",{className:"break-all leading-relaxed",children:t.message})]},s))]})]})]})}export{$ as AdminSystem};
